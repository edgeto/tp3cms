<extend name="Public:base" />
<block name="page-content">
	<div class="row" style="margin: 0 auto">
		<div class="col-sm-12">
			<div class="alert alert-block alert-success h">
				<button type="button" class="close" data-dismiss="alert">
					<i class="ace-icon fa fa-times"></i>
				</button>
				<p>
					<strong>
						<i class="ace-icon fa fa-check"></i>
						Well done！
					</strong>
					You successfully delete！
				</p>
			</div><!-- /.alert-success -->
			<div class="alert alert-warning h">
				<button type="button" class="close" data-dismiss="alert">
					<i class="ace-icon fa fa-times"></i>
				</button>
				<strong>Sorry！</strong>
				<span class="alert-warning-msg">Delete failed！</span>
				<br>
			</div>
			<div class="widget-box transparent">
				<div class="widget-header widget-header-flat">
					<h4 class="widget-title lighter">
						<i class="ace-icon fa fa-star orange"></i>
						角色列表 Role List
					</h4>
					<div class="widget-toolbar">
						<a href="#" data-action="collapse">
							<i class="ace-icon fa fa-chevron-up"></i>
						</a>
					</div>
				</div>
				<div class="widget-body">
					<div class="widget-header widget-header-flat text-right">
						<h4 class="widget-title lighter count-list">
							系统现有角色<b>{$count}</b>个
						</h4>
					</div>
					<div class="widget-main no-padding">
						<table class="table table-bordered table-striped table-hover text-center">
							<thead class="thin-border-bottom text-center">
								<tr>
									<th class="text-center">
										<label class="pos-rel">
											<input type="checkbox" class="ace" />
											<span class="lbl"></span>
										</label>
									</th>
									<th class="text-center">
										<i class="ace-icon fa fa-caret-right blue"></i>ID
									</th>
									<th class="text-center">
										<i class="ace-icon fa fa-caret-right blue"></i>名称
									</th>
									<th class="text-center">
										<i class="ace-icon fa fa-caret-right blue"></i>父角色
									</th>
									<th class="text-center">
										<i class="ace-icon fa fa-caret-right blue"></i>超级分组
									</th>
									<th class="text-center">
										<i class="ace-icon fa fa-caret-right blue"></i>添加时间
									</th>
									<th class="text-center">
										<i class="ace-icon fa fa-caret-right blue"></i>修改时间
									</th>
									<th class="text-center">
										<i class="ace-icon fa fa-caret-right blue"></i>操作
									</th>
								</tr>
							</thead>
							<tbody>
								<volist name="list" id="vo">
									<tr>
										<td>
											<label class="pos-rel">
												<input type="checkbox" class="ace" />
												<span class="lbl"></span>
											</label>
										</td>
										<td>{$vo['id']}</td>
										<td>
											{$vo['name']}
										</td>
						                <td>{$vo['pid']|get_role_name}</td>
						                <td>
						                	<if condition="$vo['is_super'] eq 0 ">
						                        否
					                        <else />
						                        是
                    						</if>
						                </td>
						                <td>{$vo['add_time']|date="Y-m-d H:i:s",###}</td>
						                <td>{$vo['update_time']|date="Y-m-d H:i:s",###}</td>
										<td>
										 	<if condition="$vo['is_super'] eq 0 ">
												<div class="hidden-sm hidden-xs action-buttons">
													<a class="green" href="{:U('role/edit', array('id' => $vo['id']))}">
														<i class="ace-icon fa fa-pencil bigger-130"></i>
													</a>
													<a class="red bootbox-confirm" href="javascript:;" value="{:U('role/delete', array('id' => $vo['id']))}">
														<i class="ace-icon fa fa-trash-o bigger-130"></i>
													</a>
													<a class="green" href="{:U('role/assignAccess', array('id' => $vo['id']))}">
														<i class="ace-icon fa fa-exchange bigger-130"></i>
														分配权限
													</a>
												</div>
											</if>
										</td>
									</tr>
								</volist>
							</tbody>
						</table>
						<div class="page">
						    {$page}
						</div>
					</div><!-- /.widget-main -->
				</div><!-- /.widget-body -->
			</div><!-- /.widget-box -->
		</div><!-- /.col -->
	</div><!-- /.row -->
</block>
